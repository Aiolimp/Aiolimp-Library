###  买卖股票的最佳时机 II

给你一个整数数组 `prices` ，其中 `prices[i]` 表示某支股票第 `i` 天的价格。

在每一天，你可以决定是否购买和/或出售股票。你在任何时候 **最多** 只能持有 **一股** 股票。你也可以先购买，然后在 **同一天** 出售。

返回 *你能获得的 **最大** 利润* 。

示例:

```
输入：prices = [7,1,5,3,6,4]
输出：7
解释：在第 2 天（股票价格 = 1）的时候买入，在第 3 天（股票价格 = 5）的时候卖出, 这笔交易所能获得利润 = 5 - 1 = 4 。
     随后，在第 4 天（股票价格 = 3）的时候买入，在第 5 天（股票价格 = 6）的时候卖出, 这笔交易所能获得利润 = 6 - 3 = 3 。
     总利润为 4 + 3 = 7 。
     
输入：prices = [1,2,3,4,5]
输出：4
解释：在第 1 天（股票价格 = 1）的时候买入，在第 5 天 （股票价格 = 5）的时候卖出, 这笔交易所能获得利润 = 5 - 1 = 4 。
     总利润为 4 。  
```

### 方法一：

#### 思路

因为股票可以买无限次，所以，只要股票是上涨的都可以算到利润中

#### 代码

```js
var maxProfit = function (prices) {
    if (prices.lenth < 2) {
        return 0
    }
    let maxProfit = 0, valley = prices[0], peak = prices[0]
    let i =0;
    // 因为要和下一个值比较，所以循环到倒数第二个值
    while (i < prices.length - 1) {
        // 当前值如果大于等于下一个值，则说明股票没有上涨，i++找到最小值
        while (prices[i] >= prices[i + 1]) {
            i++
        }
        // 最小峰值
        valley = prices[i]
        // 当前值如果小于等于下一个值，则说明股票开始上涨，i++找到最大值
        while (prices[i] <= prices[i + 1]) {
            i++
        }
        // 最大峰值
        peak = prices[i]
        //最大利润等于最小值减去最大值
        maxProfit += peak - valley
    }
    return maxProfit
};
```

### 方法一：贪心算法（针对这道问题的特殊解法）

#### 思路

由于不限制交易次数，只要今天股价比昨天高，就交易。

该算法仅可以用于计算，但 **计算的过程并不是真正交易的过程**，但可以用贪心算法计算题目要求的最大利润。

对于 「今天的股价 - 昨天的股价」，得到的结果有 3 种可能：① 正数，② 000，③负数。贪心算法的决策是： **只加正数** 。

#### 代码

```js
var maxProfit = function (prices) {
    const ln = prices.length;
    if(ln<2){
        return 0
    }
    let res = null;
    for(let i =1;i<prices.length;i++){
        // 如果今天的大于昨天的则卖出，只取正数
        res+=Math.max(prices[i]-prices[i-1],0)
    }
    return res

};
```

